var addToHome=function(a){function n(){if(!k&&!c)return;d=/ipad/gi.test(b.platform),e=a.devicePixelRatio&&a.devicePixelRatio>1,f=b.appVersion.match(/Safari/gi),isStandalone=b.standalone,g=b.appVersion.match(/OS (\d+_\d+)/i),g=g&&g[1]?+g[1].replace("_","."):5,a.addEventListener("load",o,!1)}function o(){a.removeEventListener("load",o,!1);if(!k&&(!f||isStandalone))return;var c=m.touchIcon?document.querySelectorAll("head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]"):[],h,i="",l,n=b.platform.split(" ")[0],r=b.language.replace("-","_"),s,t;j=document.createElement("div"),j.id="addToHomeScreen",j.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(g<5?"absolute":"fixed");if(c.length){for(s=0,t=c.length;s<t;s++){h=c[s].getAttribute("sizes");if(h){if(e&&h=="114x114"){i=c[s].href;break}}else i=c[s].href}i='<span style="background-image:url('+i+')" class="addToHomeTouchIcon"></span>'}j.className=(d?"addToHomeIpad":"addToHomeIphone")+(i?" addToHomeWide":""),j.innerHTML=i+m.message.replace("%web_app_title",document.title).replace("%device",n).replace("%icon",g>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+'<span class="addToHomeArrow"></span>'+'<span class="addToHomeClose">\u00d7</span>',document.body.appendChild(j),l=j.querySelector(".addToHomeClose"),l&&l.addEventListener("touchstart",q,!1),setTimeout(p,m.startDelay)}function p(){var b,c=160;d?(g<5&&(i=a.scrollY,h=a.scrollX,c=208),j.style.top=i+m.bottomOffset+"px",j.style.left=h+c-Math.round(j.offsetWidth/2)+"px",b="0.6s",j.style.webkitTransform="translate3d(0,"+ -(a.scrollY+m.bottomOffset+j.offsetHeight)+"px,0)"):(i=a.innerHeight+a.scrollY,g<5?(h=Math.round((a.innerWidth-j.offsetWidth)/2)+a.scrollX,j.style.left=h+"px",j.style.top=i-j.offsetHeight-m.bottomOffset+"px"):(j.style.left="50%",j.style.marginLeft=-Math.round(j.offsetWidth/2)+"px",j.style.bottom=m.bottomOffset+"px"),b="1s",j.style.webkitTransform="translate3d(0,"+ -(i+m.bottomOffset)+"px,0)"),j.offsetHeight,j.style.webkitTransitionDuration=b,j.style.opacity="1",j.style.webkitTransform="translate3d(0,0,0)",j.addEventListener("webkitTransitionEnd",r,!1),l=setTimeout(q,m.lifespan)}function q(){clearTimeout(l),l=null;var b=0,c=0,e="1",f="0",k=j.querySelector(".addToHomeClose");k&&k.removeEventListener("click",q,!1),g<5&&(b=d?a.scrollY-i:a.scrollY+a.innerHeight-i,c=d?a.scrollX-h:a.scrollX+Math.round((a.innerWidth-j.offsetWidth)/2)-h),j.style.webkitTransitionProperty="-webkit-transform,opacity",d?(f="0.4s",e="0",b+=50):(f="0.6s",b=b+j.offsetHeight+m.bottomOffset+50),j.addEventListener("webkitTransitionEnd",r,!1),j.style.opacity=e,j.style.webkitTransitionDuration=f,j.style.webkitTransform="translate3d("+c+"px,"+b+"px,0)"}function r(){j.removeEventListener("webkitTransitionEnd",r,!1),j.style.webkitTransitionProperty="-webkit-transform",j.style.webkitTransitionDuration="0.2s"}function s(){var b=new WebKitCSSMatrix(a.getComputedStyle(j,null).webkitTransform),c=d?a.scrollY-i:a.scrollY+a.innerHeight-i,e=d?a.scrollX-h:a.scrollX+Math.round((a.innerWidth-j.offsetWidth)/2)-h;if(c==b.m42&&e==b.m41)return;j.style.webkitTransform="translate3d("+e+"px,"+c+"px,0)"}var b=a.navigator,c="platform"in b&&/iphone|ipod|ipad/gi.test(b.platform),d,e,f,g,h=0,i=0,j,k=!0,l,m={startDelay:0,lifespan:3e4,bottomOffset:14,message:'Install "%web_app_title" on your %device: tap %icon and then <strong>Add to Home Screen</strong>.',touchIcon:!0};return n(),{close:q}}(this)